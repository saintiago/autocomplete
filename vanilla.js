!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={suggestions_request:{URL:"https://give.me.suggestions.please",METHOD:"POST"}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return function(n){if(n in t)return console.log('Showing suggestions for "'+n+'" from cache.'),Promise.resolve(t[n]);console.log('Requesting suggestions for "'+n+'" from backend.');var r=e(a.default.suggestions_request.METHOD,a.default.suggestions_request.URL,{input:n});return r.then(function(e){t[n]=e},function(e){}),r}};var r,u=n(1),a=(r=u)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;this.processRequest=function(e){var n=e.body.input;return function(e){return e&&e.method&&e.method===a.default.suggestions_request.METHOD&&e.url&&e.url===a.default.suggestions_request.URL&&e.body&&"string"==typeof e.body.input}(e)?{data:t.filter(function(e){return n&&~e.indexOf(n)}),error:null}:{data:null,error:new Error("Invalid request")}},this.getDatabase=function(){return t.join(", ")}};var r,u=n(1),a=(r=u)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){return new Promise(function(u,a){try{var s={method:t,url:n,body:r},o=e.processRequest(s);null!=o.error&&a(o.error),u(o.data)}catch(e){a(e)}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(5)),u=s(n(4)),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e){var t=new u.default(e),n=(0,r.default)(t);return{getDatabase:t.getDatabase,requestSuggestions:(0,a.default)(n)}}var t=e(["cat","dog","apple","google","application"]),n=t.getDatabase,s={requestSuggestions:t.requestSuggestions,getDatabase:n,setDatabase:function(t){if("string"==typeof t&&t.length>0){var n=t.split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e}),r=e(n),u=r.getDatabase,a=r.requestSuggestions;s.getDatabase=u,s.requestSuggestions=a,console.log("Database updated",n),console.log("Cache deleted.")}}};return s}()},,,,,function(e,t,n){"use strict";var r,u=n(6),a=(r=u)&&r.__esModule?r:{default:r};function s(e){for(var t=document.querySelectorAll("#suggestionsWrapper li"),n=0;n<t.length;n++)n===e?t[n].classList.add("hover"):t[n].classList.remove("hover")}function o(e){a.default.requestSuggestions(e.target.value).then(function(e){return function(e){var t=document.getElementById("suggestionsWrapper");l(),e.length>0&&(e.map(function(e,n){var r=document.createElement("li");r.innerText=e,r.addEventListener("click",function(){i(e)}),t.appendChild(r)}),t.style.display="block",s(0))}(e)},function(e){return function(e){var t=document.getElementById("error");t.innerText=e,t.style.display="block"}(e.message)})}function i(e){void 0!==e&&(document.getElementById("inputField").value=e,l())}function l(){var e=document.getElementById("suggestionsWrapper");e.style.display="none",e.innerHTML=""}function d(){a.default.setDatabase(database.value)}window.onload=function(){document.body.innerHTML='<div class="container">  <h1>Autocomplete Vanilla</h1>  <div class="input_field_wrapper">    <input id="inputField" tabindex="1" class="input_field" type="text" placeholder="Start typing" value="">    <ul class="suggestions_list" id="suggestionsWrapper"></ul>  </div>  <div>    <h2>Database</h2>    <textarea tabindex="2" class="database" id="database"></textarea>    <button tabindex="3" class="update_database_button" id="updateDatabaseButton">Update database</button>  </div>  <div class="error" id="error"></div></div>';var e=document.getElementById("inputField");document.getElementById("suggestionsWrapper").style.display="none",e.addEventListener("input",function(e){return o(e)}),e.addEventListener("focus",function(e){return o(e)});var t=function(){var e=0,t=document.getElementById("suggestionsWrapper");return function(n){var r=t.childElementCount;switch(n.keyCode){case 38:n.preventDefault(),e>0&&e--,s(e);break;case 40:n.preventDefault(),e<r-1&&e++,s(e);break;case 27:n.preventDefault(),e=0,l();break;case 13:n.preventDefault(),i(function(e){for(var n=t.getElementsByTagName("li"),r=0;r<n.length;r++)if(r===e)return n[r].innerText}(e=0))}}}();e.addEventListener("keydown",function(e){return t(e)}),e.addEventListener("blur",function(e){e.target.parentNode.classList.contains("input_field_wrapper")||l()});var n=document.getElementById("error");n.style.display="none",n.addEventListener("click",function(){n.style.display="none"}),document.getElementById("database").value=a.default.getDatabase(),document.getElementById("updateDatabaseButton").addEventListener("click",d)}}]);
//# sourceMappingURL=vanilla.js.map